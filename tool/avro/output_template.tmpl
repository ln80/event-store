{{- if len .PackageDoc }}
// {{ .PackageDoc }}
{{- end }}
package {{ .PackageName }}

// Code generated by ln80/event-store. DO NOT EDIT

{{ if len .Imports }}
	import (
	{{- range .Imports }}
		"{{ . }}"
	{{- end }}
	"github.com/ln80/event-store/event"
	)
{{ end }}

{{- range .Typedefs }}
	{{- if len .Doc }}
	// {{ .Doc }}
	{{- else }}
	// {{ .Name }} is a generated struct.
	{{- end }}	
	type {{ .Name }} struct {
	{{- range .Fields }}
		{{- $f := . }}
		{{- if len $f.Doc }}
		// {{ $f.Doc }}
		{{- end }}
		{{ .Name }} {{ .Type }} `avro:"{{ $f.AvroFieldName }}"
		{{- $sensitive := .Props.sensitive }}
		{{- if $sensitive }}
			{{- " "}}{{ $sensitive.ID }}:"{{ $sensitive.Name }}{{- range $k, $opt := $sensitive.Options}},{{ $k }}={{ $opt }}{{- end }}"
		{{- end }}`
	{{- end }}
	}
{{ end }}


func init() { 
	{{- range .Typedefs }}
		{{- if .Props.isEvent }}event.NewRegister("").Set({{ .Name }}{}){{- end }}
	{{ end }}
}

